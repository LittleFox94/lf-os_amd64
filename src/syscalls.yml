groups:
- number: 0
  name:  scheduler
  desc:  Syscalls changing the scheduling of the calling process.
  syscalls:
  - number: 0
    name:  exit
    desc:  Exit the process, free all memory and deliver exit code to parent process. This syscall will never return.
    parameters:
    - name: exit_code
      desc: Code returned from the calling process to the parent process
      type: uint8_t
      reg:  rax

  - number: 1
    name:   clone
    desc:   Clone the process into a new process while optionally sharing all memory (which is commonly called a thread then).
    parameters:
    - name: share_memory
      desc: Share memory with original process
      type: bool
      reg:  rax
    - name: entry
      desc: |
        Entrypoint of the child. Special case: NULL, will continue at the same code location (only valid if share_memory == 1)
      type: ptr_t
      reg:  rdi
    returns:
    - name: pid
      desc: PID of the new process in the old process, 0 in the new process
      type: uint64_t
      reg:  rax

- number: 1
  name:   memory
  desc:   Syscalls affecting memory mappings for this or other processes
  syscalls:
  - number: 0
    name:   sbrk
    desc:   Increment the data segment by inc bytes and return the new end of the data segment.
    parameters:
    - name: inc
      desc: Minimum number of bytes to add the data segment
      type: int64_t
      reg:  rax
    returns:
    - name: data_end
      type: ptr_t
      reg:  rax
      desc: Pointer to the last byte in the data segment

- number: 2
  name:   hardware
  desc:   Various syscalls to access hardware resources
  syscalls:
  - number: 0
    name:   framebuffer
    desc:   Take control of the framebuffer (if still in control by kernel)
    returns:
    - name: framebuffer
      type: uint64_t
      reg:  rax
      desc: Pointer to the framebuffer
    - name: width
      type: uint16_t
      reg:  rdi
      desc: Width of the framebuffer
    - name: height
      type: uint16_t
      reg:  rdi
      desc: Height of the framebuffer
    - name: stride
      type: uint16_t
      reg:  rdi
      desc: Stride (number of bytes per pixel row) of the framebuffer
    - name: colorFormat
      type: uint16_t
      reg:  rdi
      desc: TBD

- number: 255
  name:   debug
  desc:   Debugging syscalls (simple text output, logging, ...)
  syscalls:
  - number: 0
    name:   print
    desc:   Print a message to the screen at a location defined by the kernel
    parameters:
    - name: str
      desc: Message to print
      type: ptr_t
      reg:  rax
